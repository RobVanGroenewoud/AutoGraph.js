// jquery.autograph.js
/*global Highcharts:true */(function(a){function c(c){var d=c.attr("data-graph"),e=c.attr("data-graph-title"),f={chart:{renderTo:a(c)[0],type:b.defaultType},credits:{enabled:!1},title:{text:e},xAxis:{categories:[]},yAxis:{title:{text:null}},series:[]};a.ajax({url:d,cache:!1,success:function(b){var c=a(b);f.title.text=f.title.text||c.find("title").text();f.yAxis.title.text=c.find("yAxis text").text();f.chart.type=f.chart.type||c.find("type").text();var d=c.find("categories").text();a.each(d.split(","),function(a,b){f.xAxis.categories.push(b)});c.find("series").each(function(b,c){var d={name:a(c).find("name").text(),data:[]},e=a(c).find("data").text();a.each(e.split(","),function(a,b){d.data.push(parseInt(b,10))});f.series.push(d)});var e=new Highcharts.Chart(f)},error:function(e,f,g){var h=a("<div>Unable to load data from '"+d+"'</div>").addClass(b.errorClassName);c.prepend(h)}})}var b={defaultType:"column",errorClassName:"alert alert-error"},d={init:function(d){d&&a.extend(b,d);return this.each(function(){var b=a(this);c(b)})}};a.fn.AutoGraph=function(b){if(d[b])return d[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return d.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.AutoGraph")}})(jQuery);$(document).ready(function(){$("[data-graph]").AutoGraph()});
// jquery.autograph.js
// Utility
typeof Object.create!="function"&&(Object.create=function(a){function b(){}b.prototype=a;return new b});(function(a,b,c,d){function f(b){var c=b.attr("data-graph-url"),d=b.attr("data-graph-title"),f=b.attr("data-graph-type"),g=b.attr("data-graph-categories"),h=b.attr("data-graph-yaxis-text"),i=b.attr("data-graph-stacking"),j={chart:{renderTo:a(b)[0],type:f||e.defaultType},credits:{enabled:!1},title:{text:d},xAxis:{categories:[]},yAxis:{title:{text:h}},plotOptions:{series:{stacking:i}},series:[]},k=a('<div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div'),l=setTimeout(function(){b.prepend(k)},200);a.ajax({url:c,cache:!1,success:function(b){var c=a(b);j.title.text=j.title.text||c.find("title").text();j.yAxis.title.text=j.yAxis.title.text||c.find("yAxis text").text();j.chart.type=j.chart.type||c.find("type").text();var d=g||c.find("categories").text();a.each(d.split(","),function(a,b){j.xAxis.categories.push(b)});var e=!1;c.find("series").each(function(b,c){var d=a(c).find("hidden").text()==="true",f=a(c).find("stack").text(),g=f?f:null;e=e||f.length>0;var h={name:a(c).find("name").text(),data:[],visible:!d,stack:g},i=a(c).find("data").text();a.each(i.split(","),function(a,b){h.data.push(parseInt(b,10))});j.series.push(h)});var f=new Highcharts.Chart(j)},error:function(d,f,g){var h=a("<div>Unable to load data from '"+c+"'</div>").addClass(e.errorClassName);b.prepend(h)},complete:function(){clearTimeout(l);k.hide()}})}var e={defaultType:"column",errorClassName:"alert alert-error"},g={init:function(b){b&&a.extend(e,b);return this.each(function(){var b=a(this);f(b)})}};a.fn.AutoGraph=function(b){if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return g.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.AutoGraph")};a.fn.AutoGraph.options={errorClassName:"alert alert-error",graphType:"column"}})(jQuery,window,document);